(this["webpackJsonpnyc-link"]=this["webpackJsonpnyc-link"]||[]).push([[0],{59:function(e,t,a){e.exports=a(89)},64:function(e,t,a){},65:function(e,t,a){},69:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(21),o=a.n(l),s=(a(64),a(5)),r=a(4),c=a(9),d=a(8),u=a(10),h=(a(65),a(31)),m=(a(69),a(93)),p=a(94),g=a(95),k=(a(46),function(e){return i.a.createElement("div",{style:{marginTop:"130%",BackgroundColor:"white"}},i.a.createElement(m.a,{defaultActiveKey:"0"},i.a.createElement(p.a,null,i.a.createElement(p.a.Header,null,i.a.createElement(m.a.Toggle,{as:g.a,variant:"link",eventKey:"0"})),i.a.createElement(m.a.Collapse,{eventKey:"0"},i.a.createElement(p.a.Body,null,i.a.createElement("div",null,i.a.createElement("div",null,"".concat(e.link_id.toLowerCase())),i.a.createElement("div",null,"4.5 Stars"),i.a.createElement("div",null,"Link Address: ".concat(e.sa.toLowerCase())),i.a.createElement("div",null,"Community Board: ".concat(e.cb))))))))}),w=a(92),f=function(e){var t=e.handleInputChange,a=e.address;e.showMatches;return i.a.createElement(w.a.Item,{style:{height:"10%"},className:"Matches",action:!0,onClick:function(e){return t(e)}},i.a.createElement("p",null,"".concat(a.toLowerCase())),i.a.createElement("img",{style:{float:"right",display:"inline",marginTop:"-11%",height:"6%",width:"6%"},src:"https://img.icons8.com/ios-glyphs/32/000000/up-left-arrow.png",alt:"arrow"}),i.a.createElement("img",{style:{float:"left",display:"inline",marginTop:"-11%",height:"6%",width:"6%"},src:"https://img.icons8.com/material/24/000000/worldwide-location--v1.png",alt:"userloc"}))},E=function(e){return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("input",{style:{position:"absolute",width:"90%",borderRadius:"25px",padding:"2%",marginLeft:"-45%",marginTop:"5%"},placeholder:"Search for a Link Near you...",onChange:e.handleInputChange,value:e.myValue})),i.a.createElement("div",null,i.a.createElement(w.a,{defaultActiveKey:e.showMatches},e.matches.map((function(t){return i.a.createElement(f,{address:t.street_address,handleInputChange:e.handleInputChange,showMatches:e.showMatches})})))))},b=a(91),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={show:!1},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=function(){e.setState({show:!1})};return i.a.createElement("div",null,i.a.createElement(g.a,{style:{display:"block",backgroundColor:"\t#6495ED",borderRadius:"40%",borderWidth:"thin",borderColor:"white",border:"1px solid",padding:"10px",boxShadow:"1px 1px 1px #888888"},variant:"primary",onClick:function(){console.log("attempting to show modal"),e.setState({show:!0})}},i.a.createElement("img",{src:"https://img.icons8.com/android/24/000000/plus.png",alt:"buttons"})),i.a.createElement(b.a,{show:this.state.show,onHide:t},i.a.createElement(b.a.Header,{closeButton:!0},i.a.createElement(b.a.Title,null,"NYC-Link")),i.a.createElement(b.a.Body,null,i.a.createElement("div",null,"NYC-Link was built to help you find linkNYC stations near you. Use the map interface to search for a location near you."),i.a.createElement("br",null),i.a.createElement("div",null,i.a.createElement("b",null,"Coming soon:")," NYC-Link allows you to route to the nearest station as well. More features coming soon.")),i.a.createElement(b.a.Footer,null,i.a.createElement(g.a,{variant:"secondary",onClick:t},"Close"))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).setUserLocation=function(){console.log("attempting to get user location ..."),navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,long:e.coords.longitude},n={height:"100vh",width:"100vw",latitude:e.coords.latitude,longitude:e.coords.longitude,zoom:14};a.setState({viewport:n,userLocation:t})}))},a.setSelectedLink=function(e){a.setState({selectedLink:e,showInfo:!0})},a.handleInputChange=function(e){console.log(e.target.value),e.preventDefault(),a.setState({searchInput:e.target.value}),a.updateMatches(),console.log(a.state.showMatches),console.log(a.state.matches.length)},a.handleSubmit=function(e){e.preventDefault(),a.displayMatches()},a.findMatches=function(e,t){return t.filter((function(t){var a=new RegExp(e,"gi");return t.street_address.match(a)}))},a.updateMatches=function(){var e=a.findMatches(a.state.searchInput,a.state.links).map((function(e){return e}));a.setState({matches:e}),a.state.matches.length>1?a.setState({showMatches:!0}):a.setState({showMatches:!1})},a.alertClicked=function(e){a.setState({searchLink:e})},a.state={viewport:{height:"100vh",width:"100vw",latitude:40.7128,longitude:-74.006,zoom:10},links:[],selectedLink:null,userLocation:{},searchInput:"",showMatches:!1,matches:[],searchLink:[],showInfo:!1},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://data.cityofnewyork.us/resource/s4kf-3yrf.json").then((function(e){return e.json()})).then((function(t){return e.setState({links:t})}))}},{key:"render",value:function(){var e=this,t={height:"20px",width:"20px",display:"block",borderRadius:"30%",borderWidth:"thin",borderColor:"white",border:"1px solid",padding:"15px",boxShadow:"1px 1px 1px #888888",backgroundImage:'url("https://img.icons8.com/ios-glyphs/30/000000/billboard.png")'},a={position:"relative"};return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(h.c,Object.assign({style:a},this.state.viewport,{mapboxApiAccessToken:"pk.eyJ1IjoiZmF1c2x5Zm94MTEwIiwiYSI6ImNrMXBlOTdsejB3NzIzbW1pdnV0bHVsYWMifQ.ugYTVKKKHoUw0Ij-IjV37Q",onViewportChange:function(t){return e.setState({viewport:t})}}),this.state.links.map((function(a){return i.a.createElement(h.a,{key:a.cb_link_id,latitude:parseFloat(a.latitude),longitude:parseFloat(a.longitude)},i.a.createElement("button",{style:t,className:"marker_btt",onClick:function(t){t.preventDefault(),e.setSelectedLink(a)}}))})),0!==Object.keys(this.state.userLocation).length?i.a.createElement(h.a,{latitude:this.state.userLocation.lat,longitude:this.state.userLocation.long},i.a.createElement("img",{width:35,height:35,src:"https://img.icons8.com/plasticine/100/000000/worldwide-location.png",alt:"user_location"})):i.a.createElement("div",null),this.state.selectedLink?i.a.createElement(h.b,{style:a,latitude:parseFloat(this.state.selectedLink.latitude),longitude:parseFloat(this.state.selectedLink.longitude),onClose:function(){e.setSelectedLink(null)}},i.a.createElement("div",null,i.a.createElement("p",null,this.state.selectedLink.street_address),i.a.createElement("p",null,this.state.selectedLink.community_board),i.a.createElement("p",null,this.state.selectedLink.council_district),i.a.createElement("p",null,this.state.selectedLink.latitude),i.a.createElement("p",null,this.state.selectedLink.longitude))):null,i.a.createElement(E,{handleInputChange:this.handleInputChange.bind(this),matches:this.state.matches,showMatches:this.state.showMatches,myValue:this.state.searchInput,alertClicked:this.alertClicked}),i.a.createElement("div",{style:{width:20,height:20,position:"absolute",marginTop:"115%",right:"10%",zIndex:10}},i.a.createElement(g.a,{style:{display:"block",backgroundColor:"white",borderRadius:"40%",borderWidth:"thin",borderColor:"white",border:"1px solid",padding:"10px",boxShadow:"1px 1px 1px #888888"},onClick:this.setUserLocation},i.a.createElement("img",{src:"https://img.icons8.com/material-outlined/24/000000/location-off.png",alt:"location"}))),i.a.createElement("div",{style:{width:20,height:20,position:"absolute",marginTop:"100%",right:"10%",zIndex:10}},i.a.createElement(v,null)),i.a.createElement("div",null,i.a.createElement(k,{link_id:this.state.selectedLink?this.state.selectedLink.cb_link_id:"",sa:this.state.selectedLink?this.state.selectedLink.street_address:"",cb:this.state.selectedLink?this.state.selectedLink.council_district:"",lat:this.state.selectedLink?this.state.selectedLink.latitude:"",lon:this.state.selectedLink?this.state.selectedLink.longitude:"",showInfo:this.state.showInfo}),i.a.createElement("div",{style:{backgroundColor:"white",height:"250px"}})))))}}]),t}(n.Component),L=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(y,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,1,2]]]);
//# sourceMappingURL=main.b63c4dfd.chunk.js.map