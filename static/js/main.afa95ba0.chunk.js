(this["webpackJsonpnyc-link"]=this["webpackJsonpnyc-link"]||[]).push([[0],{49:function(e,t,n){e.exports=n(80)},54:function(e,t,n){},55:function(e,t,n){},59:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(16),l=n.n(o),c=(n(54),n(5)),s=n(4),r=n(7),u=n(6),d=n(8),h=(n(55),n(26)),m=(n(59),function(e){return i.a.createElement("div",null,i.a.createElement("div",null,"Link Address: ".concat(e.sa)),i.a.createElement("div",null,"community board: ".concat(e.cb)),i.a.createElement("div",null,"lat: ".concat(e.lat)),i.a.createElement("div",null,"lon: ".concat(e.lon)))}),p=n(83),k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={viewport:{height:"100vh",width:"100vw",latitude:40.7128,longitude:-74.006,zoom:10},links:[],selectedLink:null,userLocation:{}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://data.cityofnewyork.us/resource/s4kf-3yrf.json").then((function(e){return e.json()})).then((function(t){return e.setState({links:t})}))}},{key:"render",value:function(){var e=this,t=function(t){console.log("clicked"),e.setState({selectedLink:t})};console.log(this.state.userLocation);return i.a.createElement("div",null,i.a.createElement(m,{sa:this.state.selectedLink?this.state.selectedLink.street_address:"",cb:this.state.selectedLink?this.state.selectedLink.council_district:"",lat:this.state.selectedLink?this.state.selectedLink.latitude:"",lon:this.state.selectedLink?this.state.selectedLink.longitude:""}),i.a.createElement(p.a,{style:{width:20,height:20,position:"absolute",top:"30%",left:"5%",zIndex:10},onClick:function(){console.log("attempting to get user location ..."),navigator.geolocation.getCurrentPosition((function(t){var n={lat:t.coords.latitude,long:t.coords.longitude},a={height:"100vh",width:"100vw",latitude:t.coords.latitude,longitude:t.coords.longitude,zoom:14};e.setState({viewport:a,userLocation:n})}))}},i.a.createElement("img",{style:{width:20,height:20,position:"absolute",top:"0%",left:"5%",zIndex:10},src:"https://img.icons8.com/material-outlined/24/000000/location-off.png"})),i.a.createElement(h.c,Object.assign({},this.state.viewport,{mapboxApiAccessToken:"pk.eyJ1IjoiZmF1c2x5Zm94MTEwIiwiYSI6ImNrMXBlOTdsejB3NzIzbW1pdnV0bHVsYWMifQ.ugYTVKKKHoUw0Ij-IjV37Q",onViewportChange:function(t){return e.setState({viewport:t})}}),this.state.links.map((function(n){return i.a.createElement(h.a,{key:n.cb_link_id,latitude:parseFloat(n.latitude),longitude:parseFloat(n.longitude)},i.a.createElement("button",{className:"marker_btt",onClick:function(a){a.preventDefault(),t(n),console.log(e.state.selectedLink)}},i.a.createElement("img",{width:10,height:10,src:"https://img.icons8.com/android/24/000000/computer.png",alt:"linknyc"})))})),0!==Object.keys(this.state.userLocation).length?i.a.createElement(h.a,{latitude:this.state.userLocation.lat,longitude:this.state.userLocation.long},i.a.createElement("img",{width:20,height:20,src:"https://img.icons8.com/plasticine/100/000000/worldwide-location.png",alt:"user_location"})):i.a.createElement("div",null),this.state.selectedLink?i.a.createElement(h.b,{latitude:parseFloat(this.state.selectedLink.latitude),longitude:parseFloat(this.state.selectedLink.longitude),onClose:function(){t(null)}},i.a.createElement("div",null,i.a.createElement("p",null,this.state.selectedLink.street_address),i.a.createElement("p",null,this.state.selectedLink.community_board),i.a.createElement("p",null,this.state.selectedLink.council_district),i.a.createElement("p",null,this.state.selectedLink.latitude),i.a.createElement("p",null,this.state.selectedLink.longitude))):null))}}]),t}(a.Component),g=n(82),f=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(r.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={show:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=function(){e.setState({show:!1})};return i.a.createElement("div",null,i.a.createElement(p.a,{variant:"primary",onClick:function(){console.log("attempting to show modal"),e.setState({show:!0})}},"Info"),i.a.createElement(g.a,{show:this.state.show,onHide:t},i.a.createElement(g.a.Header,{closeButton:!0},i.a.createElement(g.a.Title,null,"NYC-Link")),i.a.createElement(g.a.Body,null,i.a.createElement("div",null,"NYC-Link was built to help you find linkNYC stations near you. Use the map interface to search for a location near you."),i.a.createElement("br",null),i.a.createElement("div",null,i.a.createElement("b",null,"Coming soon:")," NYC-Link allows you to route to the nearest station as well. More features coming soon.")),i.a.createElement(g.a.Footer,null,i.a.createElement(p.a,{variant:"secondary",onClick:t},"Close"))))}}]),t}(a.Component),E=(n(79),function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",null,i.a.createElement(f,null)),i.a.createElement(k,null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.afa95ba0.chunk.js.map