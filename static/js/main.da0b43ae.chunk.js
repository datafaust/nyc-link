(this["webpackJsonpnyc-link"]=this["webpackJsonpnyc-link"]||[]).push([[0],{60:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),react_map_gl__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(31),_Map_css__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(77),_Map_css__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_Map_css__WEBPACK_IMPORTED_MODULE_7__),_InfoBox__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(62),react_bootstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(40),_Search__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(66),_Modal__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(64),Map=function(_Component){function Map(props){var _this;return Object(_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Map),_this=Object(_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(Map).call(this,props)),_this.setUserLocation=function(){console.log("attempting to get user location ..."),navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,long:e.coords.longitude},_={height:"100vh",width:"100vw",latitude:e.coords.latitude,longitude:e.coords.longitude,zoom:14};_this.setState({viewport:_,userLocation:t})}))},_this.setSelectedLink=function(e){_this.setState({selectedLink:e,showInfo:!0})},_this.handleInputChange=function(e){e.preventDefault(),console.log(e.target.value),0!==e.target.value.length?(_this.setState({searchInput:e.target.value}),_this.updateMatches()):_this.setState({searchInput:"",showMatches:!1,matches:[]})},_this.handleSubmit=function(e){e.preventDefault(),_this.displayMatches()},_this.findMatches=function(e,t){return t.filter((function(t){var _=new RegExp(e,"gi");return t.street_address.match(_)}))},_this.updateMatches=function(){var e=_this.findMatches(_this.state.searchInput,_this.state.links).map((function(e){return e}));_this.setState({matches:e})},_this.alertClicked=function(address){var arr=eval(address.target.value);console.log(arr[0]);var newViewport={height:"100vh",width:"100vw",latitude:arr[0],longitude:arr[1],zoom:14};_this.setState({searchLink:address}),_this.setState({viewport:newViewport}),_this.setState({matches:[]})},_this.state={viewport:{height:"100vh",width:"100vw",latitude:40.7128,longitude:-74.006,zoom:10},links:[],selectedLink:null,userLocation:{},searchInput:"",showMatches:!1,matches:[],searchLink:[],showInfo:!1},_this}return Object(_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(Map,_Component),Object(_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Map,[{key:"componentDidMount",value:function(){var e=this;fetch("https://data.cityofnewyork.us/resource/s4kf-3yrf.json").then((function(e){return e.json()})).then((function(t){return e.setState({links:t})}))}},{key:"render",value:function(){var e=this,t={height:"20px",width:"20px",display:"block",borderRadius:"30%",borderWidth:"thin",borderColor:"white",border:"1px solid",padding:"15px",boxShadow:"1px 1px 1px #888888",backgroundImage:'url("https://img.icons8.com/ios-glyphs/30/000000/billboard.png")'},_={position:"relative"};return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_map_gl__WEBPACK_IMPORTED_MODULE_6__.c,Object.assign({style:_},this.state.viewport,{mapboxApiAccessToken:"pk.eyJ1IjoiZmF1c2x5Zm94MTEwIiwiYSI6ImNrMXBlOTdsejB3NzIzbW1pdnV0bHVsYWMifQ.ugYTVKKKHoUw0Ij-IjV37Q",onViewportChange:function(t){return e.setState({viewport:t})}}),this.state.links.map((function(_){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_map_gl__WEBPACK_IMPORTED_MODULE_6__.a,{key:_.cb_link_id,latitude:parseFloat(_.latitude),longitude:parseFloat(_.longitude)},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{style:t,className:"marker_btt",onClick:function(t){t.preventDefault(),e.setSelectedLink(_)}}))})),0!==Object.keys(this.state.userLocation).length?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_map_gl__WEBPACK_IMPORTED_MODULE_6__.a,{latitude:this.state.userLocation.lat,longitude:this.state.userLocation.long},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{width:35,height:35,src:"https://img.icons8.com/plasticine/100/000000/worldwide-location.png",alt:"user_location"})):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null),this.state.selectedLink?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_map_gl__WEBPACK_IMPORTED_MODULE_6__.b,{style:_,latitude:parseFloat(this.state.selectedLink.latitude),longitude:parseFloat(this.state.selectedLink.longitude),onClose:function(){e.setSelectedLink(null)}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,this.state.selectedLink.street_address),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,this.state.selectedLink.community_board),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,this.state.selectedLink.council_district),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,this.state.selectedLink.latitude),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,this.state.selectedLink.longitude))):null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Search__WEBPACK_IMPORTED_MODULE_10__.a,{handleInputChange:this.handleInputChange.bind(this),matches:this.state.matches,showMatches:this.state.showMatches,myValue:this.state.searchInput,alertClicked:this.alertClicked}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{width:20,height:20,position:"absolute",marginTop:"100%",right:"10%",zIndex:10}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{style:{display:"block",backgroundColor:"white",borderRadius:"40%",borderWidth:"thin",borderColor:"white",border:"1px solid",padding:"10px",boxShadow:"1px 1px 1px #888888"},onClick:this.setUserLocation},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{src:"https://img.icons8.com/material-outlined/24/000000/location-off.png",alt:"location"}))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{width:20,height:20,position:"absolute",marginTop:"85%",right:"10%",zIndex:10}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Modal__WEBPACK_IMPORTED_MODULE_11__.a,null)),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_InfoBox__WEBPACK_IMPORTED_MODULE_8__.a,{link_id:this.state.selectedLink?this.state.selectedLink.cb_link_id:"",sa:this.state.selectedLink?this.state.selectedLink.street_address:"",cb:this.state.selectedLink?this.state.selectedLink.council_district:"",lat:this.state.selectedLink?this.state.selectedLink.latitude:"",lon:this.state.selectedLink?this.state.selectedLink.longitude:"",showInfo:this.state.showInfo}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{backgroundColor:"white",height:"250px"}})))))}}]),Map}(react__WEBPACK_IMPORTED_MODULE_5__.Component);__webpack_exports__.a=Map},62:function(e,t,_){"use strict";var a=_(0),n=_.n(a),i=_(46),l=_(47),s=_(40);_(50);t.a=function(e){return n.a.createElement("div",{style:{marginTop:"115%",BackgroundColor:"white"}},n.a.createElement(i.a,{defaultActiveKey:"0"},n.a.createElement(l.a,null,n.a.createElement(l.a.Header,null,n.a.createElement(i.a.Toggle,{as:s.a,variant:"link",eventKey:"0"})),n.a.createElement(i.a.Collapse,{eventKey:"0"},n.a.createElement(l.a.Body,null,n.a.createElement("div",null,n.a.createElement("div",null,"".concat(e.link_id.toLowerCase())),n.a.createElement("div",null,"4.5 Stars"),n.a.createElement("div",null,"Link Address: ".concat(e.sa.toLowerCase())),n.a.createElement("div",null,"Community Board: ".concat(e.cb))))))))}},64:function(e,t,_){"use strict";var a=_(5),n=_(4),i=_(9),l=_(8),s=_(10),o=_(0),r=_.n(o),c=_(40),u=_(32),d=function(e){function t(){var e,_;Object(a.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(_=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={show:!1},_}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=function(){e.setState({show:!1})};return r.a.createElement("div",null,r.a.createElement(c.a,{style:{display:"block",backgroundColor:"\t#6495ED",borderRadius:"40%",borderWidth:"thin",borderColor:"white",border:"1px solid",padding:"10px",boxShadow:"1px 1px 1px #888888"},variant:"primary",onClick:function(){console.log("attempting to show modal"),e.setState({show:!0})}},r.a.createElement("img",{src:"https://img.icons8.com/android/24/000000/plus.png",alt:"buttons"})),r.a.createElement(u.a,{show:this.state.show,onHide:t},r.a.createElement(u.a.Header,{closeButton:!0},r.a.createElement(u.a.Title,null,"NYC-Link")),r.a.createElement(u.a.Body,null,r.a.createElement("div",null,"NYC-Link was built to help you find linkNYC stations near you. Use the map interface to search for a location near you."),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("b",null,"Coming soon:")," NYC-Link allows you to route to the nearest station as well. More features coming soon.")),r.a.createElement(u.a.Footer,null,r.a.createElement(c.a,{variant:"secondary",onClick:t},"Close"))))}}]),t}(o.Component);t.a=d},66:function(e,t,_){"use strict";var a=_(0),n=_.n(a),i=_(99),l=function(e){var t=e.alertClicked,_=e.address,a=e.longitude,l=e.latitude;"".concat(a),"".concat(l);return n.a.createElement("div",null,n.a.createElement(i.a.Item,{style:{height:"10%"},className:"Matches",action:!0,value:"[".concat(l,", ").concat(a,"]"),onClick:function(e){return t(e)}},"".concat(_.toLowerCase()),n.a.createElement("img",{style:{float:"right",display:"inline",marginTop:"-11%",height:"6%",width:"6%"},src:"https://img.icons8.com/ios-glyphs/32/000000/up-left-arrow.png",alt:"arrow"}),n.a.createElement("img",{style:{float:"left",display:"inline",marginTop:"-11%",height:"6%",width:"6%"},src:"https://img.icons8.com/material/24/000000/worldwide-location--v1.png",alt:"userloc"})))};t.a=function(e){return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("input",{style:{position:"absolute",width:"90%",borderRadius:"25px",padding:"2%",marginLeft:"-45%",marginTop:"5%"},placeholder:"Search for a Link Near you...",onChange:e.handleInputChange,value:e.myValue})),n.a.createElement("div",null,n.a.createElement("li",{defaultActiveKey:e.showMatches},e.matches.map((function(t){return n.a.createElement(l,{longitude:t.longitude,latitude:t.latitude,address:t.street_address,handleInputChange:e.handleInputChange,alertClicked:e.alertClicked,showMatches:e.showMatches})})))))}},67:function(e,t,_){e.exports=_(97)},72:function(e,t,_){},73:function(e,t,_){},77:function(e,t,_){},97:function(e,t,_){"use strict";_.r(t);var a=_(0),n=_.n(a),i=_(21),l=_.n(i),s=(_(72),_(5)),o=_(4),r=_(9),c=_(8),u=_(10),d=(_(73),_(60)),h=(_(50),function(e){function t(){return Object(s.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(d.a,null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,1,2]]]);
//# sourceMappingURL=main.da0b43ae.chunk.js.map