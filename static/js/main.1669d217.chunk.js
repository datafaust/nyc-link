(this["webpackJsonpnyc-link"]=this["webpackJsonpnyc-link"]||[]).push([[0],{60:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25),_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(28),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),react_leaflet__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(65),react_leaflet__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(98),react_leaflet__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(96),react_leaflet__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(97),_InfoBox__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(73),react_bootstrap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(41),_Search__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(64),_Modal__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(81),leaf=function(_Component){function leaf(props){var _this;return Object(_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,leaf),_this=Object(_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(leaf).call(this,props)),_this.setUserLocation=function(){console.log("attempting to get user location ..."),navigator.geolocation.getCurrentPosition((function(e){var _=[e.coords.latitude,e.coords.longitude];console.log(_);e.coords.latitude,e.coords.longitude;_this.setState({zoom:14,userLocation:_,center:_})}))},_this.setSelectedLink=function(e){_this.setState({selectedLink:e,showInfo:!0})},_this.handleInputChange=function(e){e.preventDefault(),console.log(e.target.value),0!==e.target.value.length?(_this.setState({searchInput:e.target.value}),_this.updateMatches()):_this.setState({searchInput:"",showMatches:!1,matches:[]})},_this.handleSubmit=function(e){e.preventDefault(),_this.displayMatches()},_this.findMatches=function(e,_){return _.filter((function(_){var t=new RegExp(e,"gi");return _.street_address.match(t)}))},_this.updateMatches=function(){var e=_this.findMatches(_this.state.searchInput,_this.state.links).map((function(e){return e}));_this.setState({matches:e})},_this.alertClicked=function(address){var arr=eval(address.target.value);console.log(arr[0]);var newViewport={height:"100vh",width:"100vw",latitude:arr[0],longitude:arr[1],zoom:14},newPosition=[arr[0],arr[1]];_this.setState({searchLink:address,center:newPosition,zoom:14,matches:[]})},_this.markerClick=function(e){console.log(parseFloat(e.latitude)),_this.setState({center:[parseFloat(e.latitude),parseFloat(e.longitude)],zoom:[14],selectedLink:e})},_this.state={viewport:{height:"100vh",width:"100vw",latitude:40.7484,longitude:-73.9755,zoom:10},latitude:40.7484,longitude:-73.9755,position:[40.7484,-73.9755],center:[40.7484,-73.9755],zoom:10,links:[],selectedLink:null,userLocation:{},searchInput:"",showMatches:!1,matches:[],searchLink:[],showInfo:!1},_this}return Object(_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(leaf,_Component),Object(_home_fausto_Documents_git_projects_nyc_link_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(leaf,[{key:"componentDidMount",value:function(){var e=this;fetch("https://data.cityofnewyork.us/resource/s4kf-3yrf.json").then((function(e){return e.json()})).then((function(_){return e.setState({links:_})}))}},{key:"render",value:function(){var e=this,_=this.state.links.map((function(_){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_6__.a,{position:[parseFloat(_.latitude),parseFloat(_.longitude)],onClick:e.markerClick.bind(e,_)},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_7__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,_.street_address),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,_.community_board),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,_.council_district),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,_.latitude),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,_.longitude))))}));return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_8__.a,{center:this.state.center,zoom:this.state.zoom},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_9__.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),_,0!==Object.keys(this.state.userLocation).length?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_6__.a,{position:this.state.userLocation},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{width:35,height:35,src:"https://img.icons8.com/plasticine/100/000000/worldwide-location.png",alt:"user_location"})):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null)),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Search__WEBPACK_IMPORTED_MODULE_12__.a,{handleInputChange:this.handleInputChange.bind(this),matches:this.state.matches,showMatches:this.state.showMatches,myValue:this.state.searchInput,alertClicked:this.alertClicked}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{style:{marginTop:"15%"},onClick:this.setUserLocation},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{src:"https://img.icons8.com/material-outlined/24/000000/location-off.png",alt:"location"})))}}]),leaf}(react__WEBPACK_IMPORTED_MODULE_5__.Component);__webpack_exports__.a=leaf},64:function(e,_,t){"use strict";var a=t(0),n=t.n(a),r=t(101),o=function(e){var _=e.alertClicked,t=e.address,a=e.longitude,o=e.latitude;"".concat(a),"".concat(o);return n.a.createElement("div",null,n.a.createElement(r.a.Item,{style:{height:"10%"},className:"Matches",action:!0,value:"[".concat(o,", ").concat(a,"]"),onClick:function(e){return _(e)}},"".concat(t.toLowerCase()),n.a.createElement("img",{style:{float:"right",display:"inline",marginTop:"-11%",height:"6%",width:"6%"},src:"https://img.icons8.com/ios-glyphs/32/000000/up-left-arrow.png",alt:"arrow"}),n.a.createElement("img",{style:{float:"left",display:"inline",marginTop:"-11%",height:"6%",width:"6%"},src:"https://img.icons8.com/material/24/000000/worldwide-location--v1.png",alt:"userloc"})))};_.a=function(e){return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("input",{style:{position:"absolute",width:"90%",borderRadius:"25px",padding:"2%",marginLeft:"-45%",marginTop:"5%"},placeholder:"Search for a Link Near you...",onChange:e.handleInputChange,value:e.myValue})),n.a.createElement("div",null,n.a.createElement("li",{defaultActiveKey:e.showMatches},e.matches.map((function(_){return n.a.createElement(o,{longitude:_.longitude,latitude:_.latitude,address:_.street_address,handleInputChange:e.handleInputChange,alertClicked:e.alertClicked,showMatches:e.showMatches})})))))}},66:function(e,_,t){e.exports=t(95)},71:function(e,_,t){},72:function(e,_,t){},73:function(e,_,t){"use strict";t(0),t(46),t(47),t(41),t(49)},81:function(e,_,t){"use strict";var a=t(23),n=t(24),r=t(27),o=t(25),s=t(28),i=t(0),l=t.n(i),c=t(41),u=t(30);i.Component},95:function(e,_,t){"use strict";t.r(_);var a=t(0),n=t.n(a),r=t(13),o=t.n(r),s=(t(71),t(23)),i=t(24),l=t(27),c=t(25),u=t(28),E=(t(72),t(60)),h=(t(49),function(e){function _(){return Object(s.a)(this,_),Object(l.a)(this,Object(c.a)(_).apply(this,arguments))}return Object(u.a)(_,e),Object(i.a)(_,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(E.a,null))}}]),_}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.1669d217.chunk.js.map